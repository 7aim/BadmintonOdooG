<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Customer Lookup Wizard Form -->
    <record id="view_customer_lookup_wizard_form" model="ir.ui.view">
        <field name="name">customer.lookup.wizard.form</field>
        <field name="model">customer.lookup.wizard</field>
        <field name="arch" type="xml">
            <form string="Müştəri Axtarışı">
                <group>
                    <field name="search_term" placeholder="Müştəri adı və ya telefon nömrəsi daxil edin..."/>
                </group>
                <group string="Tapılan Müştərilər">
                    <field name="customer_ids" nolabel="1">
                        <list string="Müştərilər">
                            <field name="name"/>
                            <field name="phone"/>
                            <field name="mobile"/>
                            <field name="badminton_balance" string="Badminton Balansı"/>
                            <field name="monthly_balance_hours" string="Aylıq Balans (saat)"/>
                        </list>
                    </field>
                </group>
                <footer>
                    <button name="action_view_customer" type="object" string="Müştəri Səhifəsini Aç" class="btn-primary"/>
                    <button string="Bağla" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- Customer Lookup Wizard Action -->
    <record id="action_customer_lookup_wizard" model="ir.actions.act_window">
        <field name="name">Müştəri Axtarışı</field>
        <field name="res_model">customer.lookup.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <!-- Badminton Sale Wizard Form -->
    <record id="view_badminton_sale_wizard_genclik_form" model="ir.ui.view">
        <field name="name">badminton.sale.wizard.genclik.form</field>
        <field name="model">badminton.sale.wizard.genclik</field>
        <field name="arch" type="xml">
            <form string="Badminton Satışı">
                <group>
                    <group string="Müştəri Məlumatları">
                        <field name="partner_id" options="{'no_create': True}" required="1"
                               domain="[('is_company', '=', False), ('sport_type', 'in', ['badminton', 'both']), ('branch', '=', 'genclik')]"
                               context="{'default_branch': 'genclik', 'default_sport_type': 'badminton'}"/>
                        <field name="current_balance" readonly="1" style="font-weight: bold; color: #007bff;"/>
                        <field name="monthly_balance_hours" readonly="1" string="Aylıq Balans (saat)"
                               invisible="[(monthly_balance_hours == 0)]"/>
                        <field name="customer_deposit_balance" readonly="1" style="font-weight: bold; color: #28a745;" string="Depozit Balansı"/>
                    </group>
                    <group string="Paket Satışı">
                        <field name="package_id" domain="[('active', '=', True), ('package_type', 'in', ['sale', 'monthly'])]"/>
                        <field name="payment_method"/>
                        <!--<field name="customer_type" invisible="not package_id"/>-->
                        <field name="is_gedis_package" readonly="1" invisible="[(package_id == False)]"/>
                    </group>
                </group>
                <group string="Sadə Satış (Paket seçilmədikdə)" invisible="package_id">
                    <group>
                        <!--<field name="customer_type"/>-->
                        <field name="hours_quantity"/>
                    </group>
                    <group>
                        <field name="unit_price"/>
                        <field name="total_amount" style="font-weight: bold; color: #28a745;"/>
                    </group>
                </group>
                <group string="Qiymət Məlumatları" invisible="not package_id">
                    <group>
                        <field name="original_price" readonly="1"/>
                        <field name="discount_percent" readonly="1"/>
                    </group>
                    <group>
                        <field name="hours_quantity" string="Əlavə Ediləcək Balans (Saat)" readonly="1" 
                               style="font-weight: bold; font-size: 16px; color: #007bff;"/>
                        <field name="total_amount" style="font-weight: bold; font-size: 18px; color: #28a745;"/>
                    </group>
                </group>
                <group string="Depozit və Ödəniş">
                    <group>
                        <field name="amount_to_pay" readonly="1" style="font-size: 16px; font-weight: bold; color: #ff9800;"/>
                        <field name="amount_paid" style="font-size: 16px; font-weight: bold; color: #17a2b8;"/>
                    </group>
                    <group>
                        <field name="deposit_used" readonly="1" style="font-weight: bold; color: #dc3545;"/>
                        <field name="deposit_added" readonly="1" style="font-weight: bold; color: #007bff;"/>
                    </group>
                </group>
                <footer>
                    <button name="action_create_sale" type="object" string="Satışı Tamamla" class="btn-primary"/>
                    <button string="Ləğv Et" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- Badminton Sale Wizard Action -->
    <record id="action_badminton_sale_wizard_genclik" model="ir.actions.act_window">
        <field name="name">Badminton Satışı</field>
        <field name="res_model">badminton.sale.wizard.genclik</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>
</odoo>
